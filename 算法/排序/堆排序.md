堆是一个近似完全二叉树[^1]的结构

完全二叉树有个重要性质，第一个非叶子节点的索引是 **n/2** 取整数得到的索引值，其中 **n** 是元素个数(前提是数组索引从 1 开始计算)。
![[IMG-堆排序-2025_02_16_17_02_22.png]]

索引 5 位置是第一个非叶子节点，我们从它开始逐一向前分别把每个元素作为根节点进行 shift down 操作满足最大堆的性质
```txt
tmp = mid; 
mid = max(left,mid,right)
(assume left is max)
left = tmp

if(left has left or right)
continue until leftnode(has no left or right or mid is max)
```





[^1]: [[完全二叉树 满二叉树]]
