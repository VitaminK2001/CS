# 问题
![[截屏2022-11-29 19.56.56.png]]
一个图要求一个子树
1. 子树要包含图中所有的terminal点
2. 子树边权之和最小

## MetricSteinerTree
SteinerTree的加强版
> 图是完全图
> 所有三角形边权满足两边之和大于第三边

![[截屏2022-11-29 20.01.46.png]]

## Approximation Preserving Reduction 近似保持规约
通过f g两个线性时间复杂度的函数
将π1 π2两个最小化问题中的实例、解相互转化

π1实例转换成π2中的实例后
π1的最优解大小是 >= π2的

π2解转换成π1中的解后
π1的解的目标函数大小是 <= π2的
![[截屏2022-11-29 20.04.41.png]]

### therom
如果π1 π2 最小化问题中存在近似保持规约(f,g)则对于π2中每一个近似率为∂的算法，都有一个π1的近似率为∂的算法
![[截屏2022-11-29 20.09.05.png]]
假设A是π2的近似率∂的算法
通过之前的properties可以推出Then后面的式子
![[截屏2022-11-29 20.09.17.png]]

### 回到MetricSteinerTree
#### 1. 实例之间的映射 f(I1) = I2
对于SteinerTree的Graph，要转变为MetricSteinerTree，需要按以下规则添加修改边
> 两点边长 = 之间的最短路径长度

这样就保证了两点之间的路径一定比原图小
![[截屏2022-11-29 20.16.38.png]]

#### 2. OPT(I2) <= OPT(I1)
假设B* 是I1的最优解
B* 同时也是I2的可行解
> 因为I2中的边比I1多，但是terminal和S都没变

所以 OPT(I2) <= c2(B*) <= c1(B*) <= OPT(I1)
![[截屏2022-11-29 20.21.27.png]]

#### 3. I2的可行解可以映射到I1
I2的可行解B2，构造G1’ 属于 G1，将B2中的所有边都换成边两点的最短路径

仍然连接了所有terminal，但不一定是一棵树
c1(G1') <= c2(B2)
> 小于等于的原因是G'中任意两点间的距离肯定不会超过B2中对应两点间的距离，而且可能不同的两点的最短路径有重叠部分，所以会有一部分的边在B2中被重复计算了

找G1’中的生成树B1一定是G1的Steiner树
c(B1) <= c1(G1') <= c2(B2)
> 因为G1'生成树的边都来自G1'而且数量小于等于G1'

![[截屏2022-11-29 20.34.48.png]]
## 2-Approximation for SteinerTree
### theorem
对于MetricSteinerTree，B是图G根据terminal点集T的导出子图G[T]的MST
则c(B) <= 2OPT
### proof
假设metric图的最优解B* 
将B* 中的边double成为一个欧拉图
> 在欧拉图中找欧拉回路T'得到c(T') = c(B') = 2OPT
> 因为原先B* 中的边都变成了两倍

在G(T)中找一个哈米尔顿路径H
> c(H) <= c(T') = 2OPT
> 因为G是metric

在G[T]中找一个MST B
> 有c(B)<=c(H)<=2OPT
> 因为B是G[T]的生成树，所以边的数量肯定比H数量少

![[截屏2022-11-29 20.55.19.png]]
![[截屏2022-11-29 20.55.54.png]]







