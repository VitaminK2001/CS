## 监视系统进程

程序：保存在硬盘、光盘等介质中的可执行代码和数据，静态保存的代码
进程：在cpu及内存中运行的程序代码，动态执行的代码，每个进程可以有多个子进程(线程)

#### PID PS TOP PGREP
pid ： 标识进程的唯一标识
ps：静态查看系统进程
top：动态查看系统进程
	可以设置更新的时间和更新的次数
	top -n 2 表示更新两次后停止，终止更新显示
	top -d 3 表示更新的周期时间是3秒 ![[截屏2022-11-25 15.08.52.png]]
	按q退出
pgrep：表示查看指定服务的PID       
	如：  pgrep  httpd    查看httpd服务的PID
	-u  表示查看指定用户的进程信息         
		比如：pgrep -u named httpd
	第一个参数named为named用户，第二个参数表示进程名称为 httpd ，表示查看named用户的httpd进程的PID。

## 后台进程管理

### 将程序放到后台运行
将程序放到后台运行的意思是 关闭当前的终端也可以运行
![[截屏2022-11-25 15.21.22.png]]

#### 运行.sh文件
```linux
nohup ./red5.sh &
nohup ./test %
```
&命令：加在一个命令的最后，可以把这个命令放在后台执行
nohup命令：不挂断的运行命令
在命令的末尾加个&符号后，程序可以在后台运行，但是一旦当前终端关闭（即退出当前帐户），该程序就会停止运行。此时就需要加上 nohup

#### 查看当前后台运行的命令
jobs and ps
区别是jobs用于查看当前终端后台运行的任务，换了终端就看不到了。而ps命令用于查看瞬间进程的动态，可以看到别的终端运行的后台进程

##### jobs:查看当前终端后台运行的任务
jobs -l  选项可显示当前终端所有任务的PID

##### ps:查看当前的所有进程
ps -aux | grep "test.sh"
a:显示所有程序  u:以用户为主的格式来显示   x:显示所有程序，不以终端机来区分

### 关闭当前后台的命令
kill命令：结束进程
通过jobs命令查看jobnum，然后执行   kill %jobnum
通过ps命令查看进程号PID，然后执行  kill %PID
> 如果是前台进程的话，直接执行 Ctrl+c 就可以终止了

### 前后台进程的切换与控制
fg命令：将**后台**中的命令调至**前台**继续运行
fg % jobnum 将选中的命令调出 <font color = #0099FF>(一定要加%)</font>
Ctrl + z 命令：将一个正在前台执行的命令放到后台，并且处于暂停状态
bg命令：将一个在后台暂停的命令，变成在后台继续执行
如果后台中有多个命令，可以先用jobs查看jobnum，然后用 bg % jobnum 将选中的命令调出继续执行。

使用ctrl + z 将一个任务从前台放入后台
![[截屏2022-11-25 15.32.59.png]]
![[截屏2022-11-25 15.33.31.png]]
jobs -l 显示 job 的pid jobs的状态可以是running, stopped, Terminated





