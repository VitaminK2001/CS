![[截屏2022-11-28 21.52.03.png]]
# 范式和规范化
范式是要求，是对关系的要求，是对关系不同数据依赖程度的要求
将低级范式转换为高级范式的过程叫做规范化

# 第一范式
每个属性不可再分
每个属性是原子的
即不能用集合、序列等作为属性值
## 不良特性
![[截屏2022-11-28 21.55.00.png]]

# 第二范式
在第一的基础上，非主属性完全依赖于码，**即不允许非主属性对码的部分依赖**，不允许候选码中的部分值就能决定非主属性。

码是可能有多个属性构成的能完全决定整个属性组的属性集。
（码=候选码）

注意：
>如果码只有一个属性就不存在部分依赖了所以二元关系一定满足第二范式。
>没有非主属性也一定满足条件，所以全码关系模式也是属于第二范式的。

![[截屏2022-11-28 22.00.34.png]]

![[截屏2022-11-28 22.01.47.png]]
其中B决定D，但是码是AB，所以D部分依赖于码，这就不满足2NF

# 第三范式
非主属性即不部分也不传递依赖于码
不部分就是完全
即不允许非主属性对码的部分依赖或者传递依赖
![[截屏2022-11-28 22.06.13.png]]
即第三范式在第二范式的基础上
增加了不允许非主属性传递依赖码的条件

## 特例
> 如果没有非主属性，一样可以达到2NF、3NF

第三范式不够好的原因是
> 虽然解决了非主属性对码的不良依赖，但是没有解决主属性对码的不良依赖

![[截屏2022-11-28 22.11.48.png]]
为什么属于3NF? 因为没有非主属性
但是不属于BC范式，因为T不是码，但是决定了其他属性

# BC范式
定义：每一个函数依赖的决定性的因素都包含码，要决定其他属性就必须包含码
![[截屏2022-11-28 22.16.25.png]]
即不允许码中的一部分主属性决定非主属性
只允许码决定非主属性（主属性就不用说了，因为被含在码中，是平凡依赖）
注意，码是主属性的集合，这不是码的定义，不是所有的主属性都被包含在码中，**码=候选码，定义是唯一确定一个元组的属性集**。

数据依赖包括函数依赖和多值依赖，==在函数依赖的范畴内BCNF达到了最高规范化程度==

## 达到BCNF的关系模式一定完美？
就像全码（少一个属性都不能决定整个属性组）的情况，虽然属于BCNF但是，当插入或者删除某一个属性值的时候，往往需要牵连多个元组，这就导致了数据冗余，插入异常，删除异常，更新异常。

# 范式之间的关系
![[截屏2022-11-29 09.30.41.png]]
















