# 恶意软件三类传染机制
## 传播-感染内容-病毒
修改正常程序进行感染。
向正常程序注入病毒代码使得病毒程序得到复制。
被感染的计算机与未被感染的软件交互，病毒的一个拷贝就会感染新的程序。
病毒可以实现正常正序所能实现的任何功能，将自己依附在宿主程序上，随着宿主程序的运行而运行。
病毒通知恶意软件领域的一个圆形是缺少对用户身份的认证和对私人计算机系统的访问控制。如此，病毒可以感染系统中任何一个可执行程序。
含有严格访问控制的现代操作系统显著阻碍了传统的，机器可执行代码形式的病毒的感染。这导致了宏病毒这一利用某些文档格式，如MSWord文档Excel电子表格和Adobe PDF文件等，所支持的活动内容的新型病毒的出现。
上述文档即使在用户的正常系统使用中也很容易被修改和分享，且文档无法用对程序所采用的那种访问控制进行保护。当前，病毒感染的方式通常是几种现代恶意软件传染方式中的一种，其他的方式则包括了蠕虫和木马等。
### 病毒的三种组成部分
![[Pasted image 20221210144245.png]]
### 病毒的生命周期
![[Pasted image 20221210144325.png]]
### 病毒的分类
#### 按感染对象分类
![[Pasted image 20221210144923.png]]
##### 感染引导扇区病毒
引导扇区病毒是一种感染软盘引导扇区或硬盘主引导记录 (MBR) 的病毒
软盘感染硬盘（启动盘），硬盘启动的时候感染软盘，操作系统进入内存之前病毒就在内存运行
病毒运行后**将操作系统引导程序引导入内存**，再将操作系统导入内存
杀病毒的程序是通过操作系统的程序控制的，操作系统不会检测到病毒
##### 感染可执行文件病毒
操作系统装在可执行的.exe文件，代码放在代码区，数据放在数据区，一条一条执行指令
文件加载到内存中，如何区分代码和程序
因为exe文件有一个标准格式文件的头部，头部放置程序代码区和数据区和指令的位置和说明
病毒进入内存后，扫描磁盘，看哪些是可执行文件，需要可执行文件头部指令的入口地址，这样就可以获得控制权（将第一条指令改成自己的地址，这样exe文件首先运行的就是病毒的程序然后才运行该程序）
病毒首先要定位自己的位置，方便找到并调用库函数，协助病毒完成扫描传播破坏工作，因为病毒的程序很短小，需要找到其他的程序来协作
#### 按隐藏方式分类
### 病毒结构
#### 简单的病毒
![[Pasted image 20221210145851.png]]
#### 压缩性病毒
因为被感染的可执行文件的长度比以前增加了，为了躲避病毒检测手段是将可执行文件压缩。
![[Pasted image 20221210145923.png]]
### 宏病毒和脚本病毒
宏病毒：感染被多种文档类型当做活动内容的脚本代码。
1. 任何支持Office文档PDF文档软的硬件平台都可能被感染。
2. 宏病毒只感染文档，不感染可执行文件，计算机系统中绝大部分信息都是通过文档的形式保存的，而不是程序文件。
3. 宏病毒的传播方式简单，只要被感染文档在正常使用中被共享即可。（电子邮件就最常见传播方式）
4. 宏病毒感染的事用户的文档而不是系统程序，因此传统的文件系统访问控制机制对宏病毒的传播控制能力有限。
通常用户使用宏自动完成一些重复性的工作以减少键盘输入。
## 传播-漏洞利用-蠕虫
蠕虫：利用软件的漏洞，主动寻找并感染其他机器的程序。
而每台被感染机器又转为自动攻击其他机器的跳板。蠕虫利用存在于客户端或服务器程序中的漏洞来获取每个新系统的权限，利用网络连接在系统间传播。也能通过共享媒介进行传播。
### 蠕虫复制
1. 邮件（将自己当做附件）
2. 文件共享（在USB设备等可拔插没接上创建自己的拷贝）在连接到其他系统时，借助软件中的漏洞执行。
3. 远程执行能力（通过直接的远程执行工具）
### 蠕虫扫描策略
在传播阶段首要功能是寻找其他系统进行感染。必须明确找出潜在的运行有易感染服务的系统，然后感染。
### Morris蠕虫
试图用合法用户的身份登录远程主机。
### 移动代码
不加修改能够在不同平台上运行并且实现相同过功能的程序。
能够从远程系统传送到本地系统，然后在没有得到用户明确许可的情况下在本地系统中运行。
### 手机蠕虫
通过蓝牙无线连接或彩信感染。
感染目标是允许用户从非蜂窝网路经营者处安装应用程序的智能手机。
### 客户端漏洞和夹带式下载
利用应用程序中的缺陷来安装恶意软件，最普通的一种技术利用浏览器的漏洞，在用户不知情的情况下向系统安装恶意软件，该方法被称为夹带式下载。
## 传播-社会工程学-垃圾电子邮件-木马

# 恶意软件的四种载荷
## 载荷-系统损坏
## 载荷-攻击代理
秘密控制一台连接Internet的计算机，并利用所控制的僵尸机发动攻击。
是否具有远程控制功能是bot与蠕虫的区别所在，蠕虫是自我复制并自我激活，而bot是由某种形式的指挥控制服务器网络控制的。
这种控制通信不需要持续性，可以在僵尸机发现自己被介入网络时周期性建立。



# 一个粗略的分类
![[Pasted image 20221210143012.png]]
病毒需要一个宿主程序寄生，而蠕虫木马和僵尸程序可以独立运行在系统上。

