# 路由协议
## BGP
![[Pasted image 20230917132130.png|500]]
![[Pasted image 20230917132142.png]]
BGP 的实现中使用TCP来传输信息,所以BGP报文封装在 TCP报文中传送。

## RIP
RIP 规定要使得一条路径是可达的,==最大的跳数就是 15==(也就是说一条路径上最多只能包含15个路由器),一旦到了 16就认为是不可达
∴RIP规定的==最大跳数是15而不是16==

图4-34所示网络中,假设R1、R2、R3采用RIP协议交换路由信息,且均已收敛。若R3检测到网络 201.1.2.0/25不可达,并向 R2通告一次新的距离向量,则R2更新后,其到达该网络的距离是()。
![[Pasted image 20230917134844.png]]
因为 R3检测到网络201.1.2.0/25不可达,故将该网络的距离设置为16(距离为16表示不可达)。当 R2从R3收到路由信息时,因为 R3 到该网络的距离为16,则 R2 到该网络也不可达,但此时记录R1 可达(由于RIP的特点=="坏消息传得慢"==,R1并没有收到R3发来的路由信息),R1到该网络的距离为2,再加上从R2到R1的1就是 R2到该网络的距离3.
只要相邻路由器没有更新，就会选择最小的距离最为达到不直接相连网络的距离

![[Pasted image 20230917160518.png]]
![[Pasted image 20230917160526.png]]

# 路由功能和转发功能
路由功能和转发功能
转发即当一个分组到达时所采取的动作,当路由器收到一个分组时,路由器就在路由表中查找分组所对应的输出线路。通过查得的结果,==将分组发送到正确的线路上去==。
路由算法是网络层软件的一部分,它负责确定一个进来的分组应该被传送到哪一条输出线路上。==路由算法负责填充和更新路由表==,转发功能则根据路由表的内容来确定当每个分组到来的时候应该采取什么动作(如从哪个端口转发出去)。

# 路由汇聚
![[Pasted image 20230917131014.png]]![[Pasted image 20230917131020.png]]
==将相同的部分都合并起来==

