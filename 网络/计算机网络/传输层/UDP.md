# UDP是面向报文的
发送方的UDP对应用程序交下来的报文，在添加首部后就向下交付IP层。UDP对应用层交下来的报文，既不合并，也不拆分，而是保留这些报文的边界。这就是说，应用层交给UDP多长的报文，UDP就照样发送，即一次发送一个报文

在接收方的UDP，对IP层交上来的UDP用户数据报，在去除首部后就原封不动地交付上层的应用进程。也就是说，UDP一次交付一个完整的报文。

因此，应用程序必须选择合适大小的报文。
若报文太长，UDP把它交给IP层后，IP层在传送时可能要进行分片，这会降低IP层的效率。反之，若报文太短，UDP把它交给IP层后，会使IP数据报的首部的相对长度太大，这也降低了IP层的效率。

# UDP没有拥塞控制
==网络出现的拥塞不会使源主机的发送速率降低==。这对某些实时应用是很重要的。很多的实时应用（如IP电话、实时视频会议等）要求源主机以恒定的速率发送数据，并且==允许在网络发生拥塞时丢失一些数据，但却不允许数据有太大的时延==。UDP正好适合这种要求。

# UDP的首部格式
![[Pasted image 20230913111824.png|500]]
伪首部既不向下传送也不向上递交，而仅仅是为了计算检验和。

当运输层从IP层收到UDP数据报时，就根据首部中的目的端口，把UDP数据报通过相应的端口，上交最后的终点——应用进程。
![[Pasted image 20230913111653.png|500]]

# UDP首部检验和
IP数据报的检验和只检验IP数据报的首部，但UDP的检验和是把首部和数据部分一起都检验。